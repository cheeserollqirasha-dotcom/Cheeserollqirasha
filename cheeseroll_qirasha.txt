<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lelehan Keju Lumer di Setiap Gigitan! | Cheese Roll Qirasha</title>
<!-- Load Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>
<!-- Load Fredoka Font (Cute, Bubble Pop Style) -->
<link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
/* Menggunakan Fredoka untuk judul dan Inter untuk teks biasa */
:root {
--color-soft-yellow: #FFFBEB; /* Soft Creamy Yellow */
--color-cream: #FAF0E6; /* Cream */
--color-primary: #FFB300; /* Bright Cheese Yellow */
}
.font-fredoka { font-family: 'Fredoka', cursive; }
.font-inter { font-family: 'Inter', sans-serif; }

/* Custom Colors */
.bg-soft-yellow { background-color: var(--color-soft-yellow); }
.bg-cream { background-color: var(--color-cream); }
.text-primary { color: var(--color-primary); }
.bg-primary { background-color: var(--color-primary); }

/* --- Falling Cheese Animation (Aesthetic) --- */
.cheese-container {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
overflow: hidden;
pointer-events: none;
z-index: 0;
}

.cheese-slice {
position: absolute;
color: #FFD700; /* Gold/Cheese color */
font-size: 25px;
animation: cheesefall linear infinite;
}

@keyframes cheesefall {
0% { transform: translateY(-100px) rotate(0deg); opacity: 0.8; }
100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
}

/* Generate multiple falling cheese slices with random delays and positions */
.cheese-slice:nth-child(1) { left: 10%; animation-duration: 10s; animation-delay: 0s; }
.cheese-slice:nth-child(2) { left: 25%; animation-duration: 8s; animation-delay: 2s; font-size: 30px; }
.cheese-slice:nth-child(3) { left: 50%; animation-duration: 12s; animation-delay: 4s; }
.cheese-slice:nth-child(4) { left: 70%; animation-duration: 7s; animation-delay: 1s; font-size: 20px; }
.cheese-slice:nth-child(5) { left: 90%; animation-duration: 9s; animation-delay: 5s; }
.cheese-slice:nth-child(6) { left: 40%; animation-duration: 11s; animation-delay: 3s; font-size: 35px; }
.cheese-slice:nth-child(7) { left: 80%; animation-duration: 6s; animation-delay: 6s; }
.cheese-slice:nth-child(8) { left: 5%; animation-duration: 14s; animation-delay: 7s; }

/* Custom Animation for Cute Girl/Love (Floating effect) */
@keyframes float-y {
0%, 100% { transform: translateY(0) scale(1); }
50% { transform: translateY(-8px) scale(1.05); } /* Naik sedikit dan membesar */
}
.animate-float-y {
animation: float-y 2.5s ease-in-out infinite;
}

/* Custom Animation for Sunflower (Spinning effect) */
@keyframes spin {
from { transform: rotate(0deg); }
to { transform: rotate(360deg); }
}
.animate-spin-slow {
animation: spin 6s linear infinite;
}

/* Custom Scrollbar for better aesthetic on desktop */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-thumb {
background-color: var(--color-primary);
border-radius: 4px;
}
::-webkit-scrollbar-track {
background-color: var(--color-soft-yellow);
}
</style>
</head>
<body class="bg-cream font-inter min-h-screen relative text-gray-800">

<!-- Floating Cart Button (Keranjang) -->
<button id="openCartBtn" class="fixed bottom-6 right-6 z-50 p-4 bg-primary text-white rounded-full shadow-lg shadow-yellow-500/50 hover:scale-105 transition-transform duration-300 transform active:shadow-none active:translate-y-0.5">
<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
<path stroke-linecap="round" stroke-linejoin="round" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.2 4.4a1 1 0 00.8 1.6H20a1 1 0 001-1v-1a1 1 0 00-1-1h-10.8a1 1 0 01-.8-1.6L7 13z" />
</svg>
<span id="cartCount" class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full">0</span>
</button>

<!-- --- SECTION 1: HERO (Latar Kuning Soft Cerah Segar) --- -->
<header class="relative bg-soft-yellow py-16 sm:py-24 overflow-hidden rounded-b-3xl shadow-xl">
<!-- Cheese Animation Container -->
<div class="cheese-container">
<div class="cheese-slice">ğŸ§€</div>
<div class="cheese-slice">âœ¨</div>
<div class="cheese-slice">ğŸ§€</div>
<div class="cheese-slice">âœ¨</div>
<div class="cheese-slice">ğŸ§€</div>
<div class="cheese-slice">ğŸ§€</div>
<div class="cheese-slice">âœ¨</div>
<div class="cheese-slice">ğŸ§€</div>
</div>

<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center">

<!-- NEW: Author/Group Info - Font Fredoka dan ukuran lebih kecil -->
<p class="mb-4 text-sm sm:text-lg text-gray-600 font-fredoka font-medium">
Dibuat oleh : Auliya Shafa Aqilla , Indira Cahaya Ramadhani, & Tanisha Firyal Hasti [XII-I]
</p>

<!-- Headline -->
<h1 class="font-fredoka text-5xl sm:text-7xl font-extrabold text-primary tracking-tight leading-tight drop-shadow-lg [text-shadow:_0_5px_0_rgb(255_255_255_/_40%)] mb-4">
Lelehan Keju Lumer <br class="sm:hidden"> di Setiap Gigitan!
</h1>
<!-- Tagline -->
<p class="mt-4 text-xl sm:text-2xl text-gray-700 font-semibold font-fredoka">
â€œRasa Hangat yang Bikin Bahagia!â€
</p>

<!-- Product Visual (Aesthetic Cheesroll & Hamster) -->
<div class="mt-12 flex flex-col md:flex-row items-center justify-center space-y-6 md:space-y-0 md:space-x-12">
<!-- Hamster & Cheese (Posisi disesuaikan agar hamster terlihat sedang menggigit keju) -->
<div class="relative p-4 bg-white/50 backdrop-blur-sm rounded-full shadow-xl shadow-yellow-500/30">
<!-- Keju dengan ukuran yang lebih kecil -->
<span class="text-5xl sm:text-7xl block transform -rotate-6">ğŸ§€</span>
<!-- Hamster diposisikan menutupi sedikit bagian keju -->
<span class="absolute -bottom-6 -right-6 text-5xl sm:text-6xl transform rotate-12">ğŸ¹</span>
</div>

<!-- Cheese Roll Image -->
<div class="w-full max-w-sm bg-primary p-6 rounded-3xl shadow-2xl shadow-primary/50 transform hover:scale-[1.02] transition duration-300">
<div class="aspect-video">
<img
src="https://radarmukomuko.bacakoran.co/upload/8ceb9edade6cba50f9736362b0238f5a.jpg"
alt="Foto estetik cheese roll Qirasha dengan lelehan keju"
class="w-full h-full object-cover rounded-2xl"
loading="lazy"
onerror="this.onerror=null;this.src='https://placehold.co/400x225/FFB300/FFFFFF?text=Gambar+Gagal+Muat'"
>
</div>
</div>
</div>

<!-- Price & Description -->
<div class="mt-8 max-w-3xl mx-auto">
<p class="font-fredoka text-3xl sm:text-4xl text-red-600 font-extrabold bg-white p-2 rounded-xl inline-block shadow-md">
Cuma Rp 5.000 aja, udah dapet 4 pcs ğŸ’¸
</p>
<p class="mt-4 text-lg sm:text-xl font-inter text-gray-600 px-4">
â€œNikmati Cheese Roll lembut dan creamy dengan lelehan keju premium yang gurih. Cocok buat camilan santai, bekal, atau hadiah manis buat yang tersayang!â€
</p>
</div>
</div>
</header>

<!-- --- SECTION 2: TOPPINGS & ORDER FORM --- -->
<main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
<h2 class="font-fredoka text-4xl font-bold text-center text-gray-900 mb-10">Pilih Varian Cream Favoritmu!</h2>

<div class="grid grid-cols-1 md:grid-cols-3 gap-8">
<!-- Topping Card 1: Cokelat -->
<div id="topping-cokelat" class="topping-card bg-white p-6 rounded-2xl shadow-lg border-4 border-primary/50 transform hover:shadow-xl hover:scale-[1.02] transition duration-300 cursor-pointer">
<!-- Image for Cokelat -->
<div class="aspect-square w-full mb-4 rounded-xl overflow-hidden shadow-inner">
<img
src="https://img-global.cpcdn.com/recipes/bb28bfeba8a283d6/680x781f0.5_0.49525_1.0q80/cheese-roll-foto-resep-utama.jpg"
alt="Foto cheese roll varian cokelat"
class="w-full h-full object-cover"
loading="lazy"
onerror="this.onerror=null;this.src='https://placehold.co/680x680/7B3F00/FFFFFF?text=Topping+Cokelat+Gagal+Muat'"
>
</div>
<!-- Title with Emoji -->
<h3 class="font-fredoka text-2xl font-bold text-center text-gray-900 flex items-center justify-center space-x-2">
<span>Cokelat</span> ğŸ«
</h3>
<div class="mt-4 flex justify-center items-center space-x-3">
<button class="qty-btn bg-red-400 hover:bg-red-500 text-white font-bold py-1 px-3 rounded-lg" data-topping="Cokelat" data-action="decrease">-</button>
<span id="qty-Cokelat" class="qty-display font-fredoka text-xl w-8 text-center">0</span>
<button class="qty-btn bg-green-500 hover:bg-green-600 text-white font-bold py-1 px-3 rounded-lg" data-topping="Cokelat" data-action="increase">+</button>
</div>
<button class="add-to-cart-btn mt-4 w-full bg-primary text-white font-fredoka py-2 rounded-xl hover:bg-yellow-600 transition">Tambahkan ke Keranjang</button>
</div>

<!-- Topping Card 2: Matcha -->
<div id="topping-matcha" class="topping-card bg-white p-6 rounded-2xl shadow-lg border-4 border-primary/50 transform hover:shadow-xl hover:scale-[1.02] transition duration-300 cursor-pointer">
<!-- Image for Matcha -->
<div class="aspect-square w-full mb-4 rounded-xl overflow-hidden shadow-inner">
<img
src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQkPTANFO8cfRPzwIHvTModa4Uq_3UmAm_KeQ&s"
alt="Foto cheese roll varian matcha"
class="w-full h-full object-cover"
loading="lazy"
onerror="this.onerror=null;this.src='https://placehold.co/680x680/4CAF50/FFFFFF?text=Topping+Matcha+Gagal+Muat'"
>
</div>
<!-- Title with Emoji -->
<h3 class="font-fredoka text-2xl font-bold text-center text-gray-900 flex items-center justify-center space-x-2">
<span>Matcha</span> ğŸµ
</h3>
<div class="mt-4 flex justify-center items-center space-x-3">
<button class="qty-btn bg-red-400 hover:bg-red-500 text-white font-bold py-1 px-3 rounded-lg" data-topping="Matcha" data-action="decrease">-</button>
<span id="qty-Matcha" class="qty-display font-fredoka text-xl w-8 text-center">0</span>
<button class="qty-btn bg-green-500 hover:bg-green-600 text-white font-bold py-1 px-3 rounded-lg" data-topping="Matcha" data-action="increase">+</button>
</div>
<button class="add-to-cart-btn mt-4 w-full bg-primary text-white font-fredoka py-2 rounded-xl hover:bg-yellow-600 transition">Tambahkan ke Keranjang</button>
</div>

<!-- Topping Card 3: Oreo (UPDATED WITH IMAGE AND EMOJI IN TITLE) -->
<div id="topping-oreo" class="topping-card bg-white p-6 rounded-2xl shadow-lg border-4 border-primary/50 transform hover:shadow-xl hover:scale-[1.02] transition duration-300 cursor-pointer">
<!-- Image for Oreo -->
<div class="aspect-square w-full mb-4 rounded-xl overflow-hidden shadow-inner">
<img
src="https://i.pinimg.com/736x/f7/bc/2b/f7bc2b483a4d2c7e3a7f16f7827869dd.jpg"
alt="Foto cheese roll varian oreo"
class="w-full h-full object-cover"
loading="lazy"
onerror="this.onerror=null;this.src='https://placehold.co/680x680/000000/FFFFFF?text=Topping+Oreo+Gagal+Muat'"
>
</div>
<!-- Title with Emoji -->
<h3 class="font-fredoka text-2xl font-bold text-center text-gray-900 flex items-center justify-center space-x-2">
<span>Oreo</span> ğŸª
</h3>
<div class="mt-4 flex justify-center items-center space-x-3">
<button class="qty-btn bg-red-400 hover:bg-red-500 text-white font-bold py-1 px-3 rounded-lg" data-topping="Oreo" data-action="decrease">-</button>
<span id="qty-Oreo" class="qty-display font-fredoka text-xl w-8 text-center">0</span>
<button class="qty-btn bg-green-500 hover:bg-green-600 text-white font-bold py-1 px-3 rounded-lg" data-topping="Oreo" data-action="increase">+</button>
</div>
<button class="add-to-cart-btn mt-4 w-full bg-primary text-white font-fredoka py-2 rounded-xl hover:bg-yellow-600 transition">Tambahkan ke Keranjang</button>
</div>
</div>

<!-- Order Section (The main call to action is handled by the Cart Modal) -->
<div class="mt-16 text-center">
<h2 class="font-fredoka text-3xl font-bold text-gray-900 mb-6">Siap Bikin Bahagia? Pesan Sekarang!</h2>
<!-- Container untuk tombol dan animasi -->
<div class="flex justify-center items-center space-x-4">
<!-- Cute Girl with Hearts Animation (LEFT) -->
<span class="text-4xl animate-float-y hidden sm:inline-block">
ğŸ‘§ğŸ»ğŸ’–
</span>
<button id="mainOrderBtn" class="bg-red-600 text-white font-fredoka text-xl py-4 px-10 rounded-full shadow-2xl shadow-red-500/50 hover:bg-red-700 transition duration-300 transform hover:scale-105 active:scale-95">
Pesan Lewat WhatsApp (Cek Keranjang Dulu!)
</button>
<!-- NEW: Sunflower Animation (RIGHT) -->
<span class="text-4xl animate-spin-slow hidden sm:inline-block">
ğŸŒ»
</span>
</div>
</div>
</main>

<!-- --- SECTION 3: PAYMENT & CONTACT INFO --- -->
<footer class="bg-gray-800 text-white py-12 rounded-t-3xl mt-12">
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 md:grid-cols-2 gap-10">
<!-- Payment Methods -->
<div>
<h3 class="font-fredoka text-2xl font-bold mb-4 text-primary">Metode Pembayaran (Anti Ribet!)</h3>
<div class="space-y-2">
<p class="flex items-center space-x-2 text-lg">
<span class="text-xl">ğŸ’°</span>
<span>Dana, OVO, GoPay</span>
</p>
<p class="flex items-center space-x-2 text-lg">
<span class="text-xl">ğŸ¦</span>
<span>BCA Transfer</span>
</p>
<p class="flex items-center space-x-2 text-lg">
<span class="text-xl">ğŸ’³</span>
<span>QRIS (Semua Bank/E-Wallet)</span>
</p>
</div>
</div>

<!-- Contact & Order -->
<div>
<h3 class="font-fredoka text-2xl font-bold mb-4 text-primary">Kontak & Order</h3>
<div class="space-y-3 font-inter">
<a href="https://wa.me/6285774542305" target="_blank" class="flex items-center space-x-3 text-lg hover:text-green-400 transition">
<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12.04 2c-5.45 0-9.91 4.46-9.91 9.91 0 1.75.46 3.49 1.34 4.96l-1.4 5.16 5.3-1.38c1.48.88 3.19 1.35 4.77 1.35h.02c5.45 0 9.91-4.46 9.91-9.91-.01-5.45-4.47-9.91-9.92-9.91zm.02 18.06c-1.4 0-2.82-.37-4.04-1.09l-.29-.17-3.03.79.8-3.02-.19-.31c-.74-1.2-1.13-2.61-1.13-4.08 0-4.57 3.73-8.3 8.3-8.3 2.22 0 4.31.86 5.86 2.41 1.55 1.55 2.41 3.64 2.41 5.86-.01 4.58-3.74 8.3-8.31 8.3zM16.48 13.91c-.1-.18-.36-.29-.75-.48-.42-.19-.24-.28-.35-.55-.1-.28-.24-.48-.35-.63-.12-.17-.26-.28-.44-.28-.19 0-.32.06-.44.18-.12.12-.34.33-.42.43-.09.11-.18.12-.35.03s-.69-.26-1.32-.82c-.49-.44-.82-.98-1.02-1.32-.21-.34-.02-.49.09-.61.1-.11.23-.28.35-.41.11-.14.16-.27.24-.43.08-.16.03-.3-.02-.43-.05-.13-.42-1.01-.58-1.38-.15-.36-.31-.3-.43-.3-.12 0-.25-.01-.42-.01-.17 0-.44.05-.67.31-.22.25-.85.83-.85 2.03 0 1.2.87 2.35.99 2.5.12.15 1.73 2.64 4.19 3.65 2.46 1 2.46.66 2.91.66.44 0 .86-.17 1.18-.34.32-.17.58-.55.66-.94.08-.39.08-.73-.02-.91z"/></svg>
<span>WhatsApp: +62 857-7454-2305</span>
</a>
<a href="https://instagram.com/cheeseroll_qirasha" target="_blank" class="flex items-center space-x-3 text-lg hover:text-pink-400 transition">
<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.25.148 4.773 1.671 4.92 4.92.057 1.266.07 1.646.07 4.85s-.013 3.584-.07 4.85c-.148 3.25-1.671 4.773-4.92 4.92-.057.013-.112.013-.07.013H4.85c-3.25 0-4.773-1.671-4.92-4.92-.057-1.266-.07-1.646-.07-4.85s.013-3.584.07-4.85c.148-3.25 1.671-4.773 4.92-4.92.057-.013.112-.013.07-.013h7.15zm0 2.163c-3.24 0-3.64.01-4.893.064-1.7.07-2.618.988-2.688 2.688-.054 1.253-.064 1.653-.064 4.893s.01 3.64.064 4.893c.07 1.7.988 2.618 2.688 2.688 1.253.054 1.653.064 4.893.064s3.64-.01 4.893-.064c1.7-.07 2.618-.988 2.688-2.688-.054-1.253-.064-1.653-.064-4.893s-.01-3.64-.064-4.893c-.07-1.7-.988-2.618-2.688-2.688-1.253-.054-1.653-.064-4.893-.064zm0 3.163a4.5 4.5 0 100 9 4.5 4.5 0 000-9zm0 7a2.5 2.5 0 110-5 2.5 2.5 0 010 5zm6.5-7.5a1.25 1.25 0 100-2.5 1.25 1.25 0 000 2.5z"/></svg>
<span>IG: @cheeseroll_qirasha</span>
</a>
<a href="mailto:cheeserollqirasha@gmail.com" class="flex items-center space-x-3 text-lg hover:text-red-400 transition">
<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8m-1 12H4a2 2 0 01-2-2V6a2 2 0 012-2h16a2 2 0 012 2v12a2 2 0 01-2 2z" /></svg>
<span>Email: cheeserollqirasha@gmail.com</span>
</a>
</div>
</div>
</div>

<!-- Copyright Section -->
<div class="mt-8 pt-4 border-t border-gray-700 text-center">
<p class="text-sm text-gray-400 font-inter">
Â© 2025 CheeseRoll Qirasha. All rights reserved.
</p>
</div>
</footer>

<!-- Cart Modal / Keranjang (Hidden by default) -->
<div id="cartModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center p-4">
<div class="bg-white p-6 sm:p-8 rounded-xl shadow-2xl w-full max-w-lg transform transition-all duration-300 scale-95 modal-content">
<div class="flex justify-between items-center mb-6">
<h3 class="font-fredoka text-3xl font-bold text-gray-900">Keranjang Belanja ğŸ›’</h3>
<button id="closeCartBtn" class="text-gray-500 hover:text-gray-900 text-3xl">&times;</button>
</div>

<div id="cartItems" class="space-y-3 max-h-60 overflow-y-auto pr-2">
<!-- Cart items will be dynamically inserted here -->
<p id="emptyCartMessage" class="text-center text-gray-500 italic">Keranjang masih kosong, ayo pilih Cheese Roll favoritmu!</p>
</div>

<div class="mt-6 pt-4 border-t border-dashed border-gray-300">
<div class="flex justify-between items-center font-bold text-xl mb-4">
<span class="font-fredoka">TOTAL HARGA:</span>
<span id="cartTotal" class="text-primary font-fredoka">Rp 0</span>
</div>

<button id="checkoutBtn" class="w-full bg-green-500 text-white font-fredoka text-lg py-3 rounded-xl hover:bg-green-600 transition disabled:opacity-50 disabled:cursor-not-allowed">
Pesan Sekarang via WhatsApp!
</button>
</div>
</div>
</div>


<script>
// Data produk
const PRODUCT_PRICE = 5000;
const TOPPINGS = {
'Cokelat': { emoji: 'ğŸ«', name: 'Cokelat' },
'Matcha': { emoji: 'ğŸµ', name: 'Matcha' },
'Oreo': { emoji: 'ğŸª', name: 'Oreo' },
};

let cart = {
'Cokelat': 0,
'Matcha': 0,
'Oreo': 0,
};

// DOM elements
const cartModal = document.getElementById('cartModal');
const openCartBtn = document.getElementById('openCartBtn');
const closeCartBtn = document.getElementById('closeCartBtn');
const mainOrderBtn = document.getElementById('mainOrderBtn');
const cartCount = document.getElementById('cartCount');
const cartItemsContainer = document.getElementById('cartItems');
const cartTotalDisplay = document.getElementById('cartTotal');
const checkoutBtn = document.getElementById('checkoutBtn');
const emptyCartMessage = document.getElementById('emptyCartMessage');

// --- Helper Functions ---

const formatRupiah = (amount) => {
return 'Rp ' + amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
};

const updateCartTotal = () => {
let totalQty = 0;
let totalHarga = 0;

for (const topping in cart) {
totalQty += cart[topping];
totalHarga += cart[topping] * PRODUCT_PRICE;
}

// Update UI elements
cartCount.textContent = totalQty;
cartTotalDisplay.textContent = formatRupiah(totalHarga);

// Toggle cart button visibility (optional but good UX)
cartCount.style.display = totalQty > 0 ? 'inline-flex' : 'none';
checkoutBtn.disabled = totalQty === 0;
emptyCartMessage.style.display = totalQty === 0 ? 'block' : 'none';

return totalHarga;
};

const renderCartItems = () => {
// Clear current items
cartItemsContainer.innerHTML = '';

let hasItems = false;

for (const topping in TOPPINGS) {
const qty = cart[topping];

if (qty > 0) {
hasItems = true;
const itemTotal = qty * PRODUCT_PRICE;

const itemHtml = `
<div class="flex justify-between items-center bg-gray-50 p-3 rounded-lg shadow-sm">
<div class="flex items-center space-x-3">
<span class="text-2xl">${TOPPINGS[topping].emoji}</span>
<span class="font-semibold">${topping}</span>
</div>
<div class="text-right">
<p class="text-sm text-gray-600">${qty} x ${formatRupiah(PRODUCT_PRICE)}</p>
<p class="font-bold text-lg text-red-600">${formatRupiah(itemTotal)}</p>
</div>
</div>
`;
cartItemsContainer.insertAdjacentHTML('beforeend', itemHtml);
}
}

// Re-show the empty message if no items
if (!hasItems) {
cartItemsContainer.appendChild(emptyCartMessage);
}

updateCartTotal();
};

const handleQuantityChange = (topping, action) => {
const currentQty = cart[topping];

if (action === 'increase') {
cart[topping]++;
} else if (action === 'decrease' && currentQty > 0) {
cart[topping]--;
}

// Update the quantity display on the product card
document.getElementById(`qty-${topping}`).textContent = cart[topping];

updateCartTotal();
};

const generateWhatsAppMessage = () => {
let message = "Halo Qirasha! Saya mau pesan Cheese Roll:\n\n";
let totalHarga = 0;
let totalItem = 0;
let itemDetails = [];

for (const topping in TOPPINGS) {
const qty = cart[topping];
if (qty > 0) {
totalItem++;
const itemTotal = qty * PRODUCT_PRICE;
totalHarga += itemTotal;
itemDetails.push(`- ${qty}x Cheese Roll Topping ${topping} (${formatRupiah(itemTotal)})`);
}
}

if (totalItem === 0) {
return false; // Should not happen if button is disabled correctly
}

message += itemDetails.join('\n');
message += `\n\nTotal Pembelian: ${formatRupiah(totalHarga)}\n\n`;
message += "Mohon diproses pesanannya ya, terima kasih!";

const waLink = `https://wa.me/6285774542305?text=${encodeURIComponent(message)}`;
window.open(waLink, '_blank');
};


// --- Event Listeners ---

// Quantity Buttons (Increase/Decrease)
document.querySelectorAll('.qty-btn').forEach(button => {
button.addEventListener('click', (e) => {
const topping = e.currentTarget.dataset.topping;
const action = e.currentTarget.dataset.action;
handleQuantityChange(topping, action);
});
});

// Add to Cart Buttons
document.querySelectorAll('.add-to-cart-btn').forEach(button => {
button.addEventListener('click', (e) => {
const topping = e.currentTarget.parentNode.querySelector('.qty-display').id.split('-')[1];
const qty = parseInt(document.getElementById(`qty-${topping}`).textContent);

// Add to cart only if quantity > 0 (already handled by handleQuantityChange on qty buttons)
if (qty > 0) {
cartModal.classList.remove('hidden');
cartModal.classList.add('flex');
renderCartItems();
} else {
// Quick feedback if user tries to add 0
const card = e.currentTarget.parentNode;
card.classList.add('animate-pulse', 'border-red-500');
setTimeout(() => {
card.classList.remove('animate-pulse', 'border-red-500');
}, 500);
}
});
});

// Cart Modal Handlers
[openCartBtn, mainOrderBtn].forEach(btn => {
btn.addEventListener('click', () => {
cartModal.classList.remove('hidden');
cartModal.classList.add('flex');
renderCartItems();
});
});

closeCartBtn.addEventListener('click', () => {
cartModal.classList.add('hidden');
cartModal.classList.remove('flex');
});

cartModal.addEventListener('click', (e) => {
if (e.target === cartModal) {
cartModal.classList.add('hidden');
cartModal.classList.remove('flex');
}
});

// Checkout Button (WhatsApp Link)
checkoutBtn.addEventListener('click', generateWhatsAppMessage);

// Initial setup
document.addEventListener('DOMContentLoaded', () => {
updateCartTotal(); // Hide count bubble initially
});

</script>
</body>
</html>